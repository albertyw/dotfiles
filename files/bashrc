#!/bin/bash

### Adjusting the PATH
conf_dot_home_path=$HOME/.dotfiles/bin
export PATH=/usr/local/bin:$PATH:$conf_dot_home_path:/sbin

### Setting variables
export EDITOR=vim
export LANG="en_US"
export LC_ALL=C
export LANGUAGE=en_US.UTF-8
export LANG=en_US.UTF-8
export TERM=xterm
export HISTCONTROL=ignorespace
PS1='\[\e[1;31m\]\u@\h \w \$ \[\e[0m\]'
export CLICOLOR=1
export LSCOLORS=gxBxhxDxfxhxhxhxhxcxcx

### Assorted aliases
alias path="echo $PATH | tr ':' '\n'"
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'
alias summarize='grep "class\|def"'
alias oports="echo 'User:      Command:   Port:'; echo '----------------------------' ; lsof -i 4 -P -n | grep -i 'listen' | awk '{print \$3, \$1, \$9}' | sed 's/ [a-z0-9\.\*]*:/ /' | sort -k 3 -n |xargs printf '%-10s %-10s %-10s\n' | uniq"
alias mem="ps aux | sort -b -k 4 | tail -n 30"
alias cpu="ps aux | sort -b -k 3 | tail -n 30"
alias dirdiff='dirdiff.sh'
alias fucking='sudo'
alias commands='cat $HOME/.dotfiles/files/commands'
alias lookup='$HOME/.dotfiles/bin/lookup.sh'
alias hardware='hardware.sh'
alias rsync='rsync -vazr'
if [[ $(uname) == Linux ]]; then
    alias ls='ls --color=always'
fi

### Sourcing other scripts
source $HOME/.dotfiles/bin/git-completion.sh
source $HOME/.dotfiles/bin/npm-completion.sh
source $HOME/.dotfiles/bin/rake-completion.sh
source $HOME/.dotfiles/bin/django-completion.sh
[[ -r $HOME/.bashrc_local ]] && . ~/.bashrc_local
[[ -r /usr/local/bin/virtualenvwrapper.sh ]] && . /usr/local/bin/virtualenvwrapper.sh

### Git updates
~/.dotfiles/check-git-updates.sh | grep "YOU" &
disown
